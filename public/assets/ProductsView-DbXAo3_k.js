import{_ as h,g as u}from"./get-products.action-DwTpRi-i.js";import{d as f,f as y,g as _,h as g,o as r,c as n,b as e,F as b,r as w,n as v,a as p,w as q,l as C,t as c,u as o,j as N,R as T}from"./index-Cw5eDq-b.js";import{u as k,a as F}from"./get-product-image.action-D1-U3H_i.js";const P={class:"bg-white px-5 py-2 rounded"},V={class:"py-8 w-full"},j={class:"shadow overflow-hidden rounded border-b border-gray-200"},B={class:"min-w-full bg-white"},Q={class:"text-gray-700"},R={class:"text-left py-3 px-4"},z=["src","alt"],E={class:"text-left py-3 px-4"},K={class:"text-left py-3 px-4"},L={class:"bg-blue-200 text-blue-600 py-1 px-3 rounded-full text-xs"},$={class:"text-left py-3 px-4"},G=f({__name:"ProductsView",setup(A){const i=N(),s=y(Number(i.query.page||1)),x=k(),{data:l}=F({queryKey:["products",{page:s}],queryFn:()=>u(s.value),staleTime:1e3*60});return _(()=>i.query.page,d=>{s.value=Number(d||1),window.scrollTo({top:0,behavior:"smooth"})}),g(()=>{x.prefetchQuery({queryKey:["products",{page:s.value+1}],queryFn:()=>u(s.value+1)})}),(d,a)=>(r(),n("div",P,[a[1]||(a[1]=e("h1",{class:"text-md sm:text-3xl"},"Productos",-1)),e("div",V,[e("div",j,[e("table",B,[a[0]||(a[0]=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"},"Imagen"),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"},"Titulo"),e("th",{class:"w-28 py-3 px-4 uppercase font-semibold text-sm"},"Precio"),e("th",{class:"w-60 text-left py-3 px-4 uppercase font-semibold text-sm"},"Tallas")])],-1)),e("tbody",Q,[(r(!0),n(b,null,w(o(l),(t,m)=>(r(),n("tr",{key:t.id,class:v({"bg-gray-100":m%2===0})},[e("td",R,[e("img",{src:t.images[0],alt:t.title,class:"h-10 w-10 object-cover"},null,8,z)]),e("td",E,[p(o(T),{to:`/admin/products/${t.id}`,class:"hover:text-blue-500 hover:underline"},{default:q(()=>[C(c(t.title),1)]),_:2},1032,["to"])]),e("td",K,[e("span",L,c(t.price),1)]),e("td",$,c(t.sizes.join(",")),1)],2))),128))])])]),p(h,{page:s.value,"has-more-data":!!o(l)&&o(l).length<10},null,8,["page","has-more-data"])])]))}});export{G as default};
